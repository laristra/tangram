<!--
This file is part of the Ristra tangram project.
Please see the license file at the root of this repository, or at:
https://github.com/laristra/tangram/blob/master/LICENSE
-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="generator" content="Doxygen 1.8.13"/>
    <!-- For Mobile Devices -->
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <!-- Font stuff -->
    <link href='//fonts.googleapis.com/css?family=Roboto+Slab' rel='stylesheet' type='text/css'/>
    <script src="//use.fontawesome.com/3dce4d8e65.js"></script>
    <!-- the default version jquery provided by doxygen is too old for bootstrap
	 but it also contains local modifications.  we have extracted those that
	 are needed so that we can use a newer jquery. -->
    <!-- <script type="text/javascript" src="//code.jquery.com/jquery-3.1.1.min.js"></script> -->
    <script
			  src="//code.jquery.com/jquery-3.3.1.min.js"
			  integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
			  crossorigin="anonymous"></script>
      <!-- <script src="//code.jquery.com/jquery-3.3.1.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script> -->
    <script type="text/javascript" src="smartmenu.js"></script>
    <title>tangram: /home/portage/tangram/tangram/intersect/split_r2d.h Source File</title>
    <link href="tabs.css" rel="stylesheet" type="text/css">
      <!-- this version is too old for bootstrap, but it includes modifications
	   from standard jquery
    <script type="text/javascript" src="jquery.js"></script>  -->
    <script type="text/javascript" src="dynsections.js"></script>
    <script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js", "TeX/AMSmath.js", "TeX/AMSsymbols.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js"></script>
    <link href="doxygen.css" rel="stylesheet" type="text/css" />
    <link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
    <link rel="stylesheet" href="//stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
<script src="//cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
<script src="//stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    <!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"/> -->
    <!-- <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script> -->
  </head>
  <body>
    <nav class="navbar navbar-default" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <a class="navbar-brand">tangram </a>
        </div>
      </div>
    </nav>
    <div id="top"><!-- do not remove this div, it is closed by doxygen! -->
      <div class="content" id="content">
        <div class="container">
          <div class="row">
            <div class="col-sm-12 panel " style="padding-bottom: 15px;">
              <div style="margin-bottom: 15px;">
      		<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_043c38e9c2239d2104f02eee845ed8d8.html">tangram</a></li><li class="navelem"><a class="el" href="dir_ac67a70d9b607d82a33b1de4ed29653f.html">intersect</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">split_r2d.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="split__r2d_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> This file is part of the Ristra tangram project.</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> Please see the license file at the root of this repository, or at:</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> https://github.com/laristra/tangram/blob/master/LICENSE</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#ifndef INTERSECT_SPLIT_R2D_H</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#define INTERSECT_SPLIT_R2D_H</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &lt;algorithm&gt;</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &lt;cmath&gt;</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &lt;memory&gt;</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &lt;vector&gt;</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="tangram_8h.html">tangram/support/tangram.h</a>&quot;</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MatPoly_8h.html">tangram/support/MatPoly.h</a>&quot;</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="keyword">extern</span> <span class="stringliteral">&quot;C&quot;</span> {</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;wonton/intersect/r3d/r2d.h&quot;</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;}</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespaceTangram.html">Tangram</a> {</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;</div><div class="line"><a name="l00043"></a><span class="lineno"><a class="line" href="namespaceTangram.html#a8b4a80068dc8561da97cc8607e1ec696">   43</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespaceTangram.html#a8b4a80068dc8561da97cc8607e1ec696">r2dpoly_to_matpoly</a>(<span class="keyword">const</span> <a class="code" href="structr2d__poly.html">r2d_poly</a>&amp; r2dpoly, <a class="code" href="classTangram_1_1MatPoly.html">MatPoly&lt;2&gt;</a>&amp; mat_poly)</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;{</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    <span class="keywordtype">int</span> nvrts = r2dpoly.<a class="code" href="structr2d__poly.html#a90583570d1a0aae298111de38fa69c89">nverts</a>;</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    std::vector&lt;Point2&gt; r2d_poly_vrts(nvrts);</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    <span class="comment">// Walk the r2d graph to collect vertices in the ccw order</span></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    <span class="keywordtype">int</span> icur_node = 0;</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ivrt = 0; ivrt &lt; nvrts; ivrt++) {</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ixy = 0; ixy &lt; 2; ixy++)</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;        r2d_poly_vrts[ivrt][ixy] = r2dpoly.<a class="code" href="structr2d__poly.html#a92a7a2ba8a83f658c07866816acb1123">verts</a>[icur_node].<a class="code" href="structr2d__vertex.html#a3ec3316dc565f2b6e1d0bc7230250a8f">pos</a>.<a class="code" href="unionr2d__rvec2.html#ad9a1cfdc5716855be5fff46ff18550e4">xy</a>[ixy];</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;      icur_node = r2dpoly.<a class="code" href="structr2d__poly.html#a92a7a2ba8a83f658c07866816acb1123">verts</a>[icur_node].<a class="code" href="structr2d__vertex.html#a95becc3479d5b52bf4dc2811d4f2eb41">pnbrs</a>[0];</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    }</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    <span class="comment">// We only store non-degenerate edges</span></div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    std::vector&lt;Point2&gt; matpoly_vrts;</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    matpoly_vrts.reserve(nvrts);</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ivrt = 0; ivrt &lt; nvrts; ivrt++) {</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;      <span class="comment">// Check if this point is coincident with the next one,</span></div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;      <span class="comment">// i.e. if the respective edge is degenerate: points </span></div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;      <span class="comment">// are considered coincident if all their respective </span></div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;      <span class="comment">// coordinates are within machine epsilon from each other</span></div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;      <span class="keywordflow">if</span> (!(r2d_poly_vrts[ivrt] == r2d_poly_vrts[(ivrt + 1)%nvrts]))</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;        matpoly_vrts.push_back(r2d_poly_vrts[ivrt]);</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    }</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    matpoly_vrts.shrink_to_fit();</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    <span class="comment">// We do not store polygons with less than three faces,</span></div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <span class="comment">// as they are clearly degenerate</span></div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <span class="keywordflow">if</span> (matpoly_vrts.size() &gt; 2)</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;      mat_poly.<a class="code" href="classTangram_1_1MatPoly.html#a0fde16656a5d88e5d7574fcd67b3ebcb">initialize</a>(matpoly_vrts);</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;      mat_poly.<a class="code" href="classTangram_1_1MatPoly.html#a860f132a1987d539089fc1c80c7404a7">clear</a>();</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;}</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;</div><div class="line"><a name="l00084"></a><span class="lineno"><a class="line" href="namespaceTangram.html#ae282114f99c97df0c59c6006bc065e0b">   84</a></span>&#160; <span class="keywordtype">void</span> <a class="code" href="namespaceTangram.html#ae282114f99c97df0c59c6006bc065e0b">matpoly_to_r2dpoly</a>(<span class="keyword">const</span> <a class="code" href="classTangram_1_1MatPoly.html">MatPoly&lt;2&gt;</a>&amp; mat_poly,</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;                   <a class="code" href="structr2d__poly.html">r2d_poly</a>&amp; r2dpoly) {</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;  <span class="comment">//Translate coordinates of vertices to R2D format</span></div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;  <span class="keyword">const</span> std::vector&lt;Point2&gt;&amp; matpoly_vrts = mat_poly.<a class="code" href="classTangram_1_1MatPoly.html#aa756cca3df1a498d170bc3a86e6bae7b">points</a>();</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  <span class="keywordtype">int</span> nvrts = mat_poly.<a class="code" href="classTangram_1_1MatPoly.html#aa32646522284f28e04aad59e815542f1">num_vertices</a>();</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  <span class="comment">//Convert matpoly vertices to r2d_rvec2 array </span></div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;  <a class="code" href="unionr2d__rvec2.html">r2d_rvec2</a>* r2dized_poly_vrts = <span class="keyword">new</span> <a class="code" href="unionr2d__rvec2.html">r2d_rvec2</a>[nvrts];</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ivrt = 0; ivrt &lt; nvrts; ivrt++)</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ixy = 0; ixy &lt; 2; ixy++)</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;      r2dized_poly_vrts[ivrt].xy[ixy] = matpoly_vrts[ivrt][ixy];</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;  <span class="comment">//Initialize the r2dpoly </span></div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;  <a class="code" href="r2d_8h.html#a41c629fd47d5ee5a33ff2467c127ddf7">r2d_init_poly</a>(&amp;r2dpoly, r2dized_poly_vrts, nvrts);</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;  <span class="keyword">delete</span> [] r2dized_poly_vrts;</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;}<span class="comment">//matpoly_to_r2dpoly</span></div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;</div><div class="line"><a name="l00117"></a><span class="lineno"><a class="line" href="namespaceTangram.html#af02fba4de7b9b6cdae6e0f7b655d96b9">  117</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="namespaceTangram.html#af02fba4de7b9b6cdae6e0f7b655d96b9">get_intersection_moments</a>(<span class="keyword">const</span> <a class="code" href="classTangram_1_1MatPoly.html">MatPoly&lt;2&gt;</a>&amp; mat_poly,</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;                              <span class="keyword">const</span> <a class="code" href="structr2d__poly.html">r2d_poly</a>&amp; r2dpoly,</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;                              std::vector&lt;double&gt;&amp; intersection_moments,</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;                              <span class="keywordtype">bool</span> convex_matpoly = <span class="keyword">false</span>) {   </div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> POLY_ORDER = 1;</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;  <span class="keywordtype">int</span> nmoments = <a class="code" href="r2d_8h.html#abb06105c9ba90a0af19b4a5104c8ccc0">R2D_NUM_MOMENTS</a>(POLY_ORDER);</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;  <a class="code" href="r2d_8h.html#a7051e2a3074dcda55d4ffe56a31c910c">r2d_real</a> r2d_moments[<a class="code" href="r2d_8h.html#abb06105c9ba90a0af19b4a5104c8ccc0">R2D_NUM_MOMENTS</a>(POLY_ORDER)];</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;  <span class="keywordflow">if</span> (convex_matpoly) {                                </div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    std::vector&lt; Plane_t&lt;2&gt; &gt; face_lines;</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    mat_poly.<a class="code" href="classTangram_1_1MatPoly.html#aba885f75525c109661a08cb41a413a5b">face_planes</a>(face_lines);</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    <a class="code" href="structr2d__poly.html">r2d_poly</a> intersection = r2dpoly;</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    <span class="keywordtype">int</span> nlines = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(face_lines.size());</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <a class="code" href="structr2d__plane.html">r2d_plane</a>* r2d_face_lines = <span class="keyword">new</span> <a class="code" href="structr2d__plane.html">r2d_plane</a> [nlines];</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> iline = 0; iline &lt; nlines; iline++) {</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ixy = 0; ixy &lt; 2; ixy++)</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        r2d_face_lines[iline].n.xy[ixy] = -face_lines[iline].normal[ixy];</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;      r2d_face_lines[iline].<a class="code" href="structr2d__plane.html#a51f453b0f5dc7ec389fc33d46886f0d6">d</a> = -face_lines[iline].dist2origin;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    }</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    <a class="code" href="r2d_8h.html#a7bc340c465a2b0fb0ebdeed61a4b1d09">r2d_clip</a>(&amp;intersection, r2d_face_lines, (<a class="code" href="r2d_8h.html#a40c43d55f6372345f355d5f34eb919c5">r2d_int</a>) nlines);</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    </div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <span class="keyword">delete</span> [] r2d_face_lines;</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    <a class="code" href="r2d_8h.html#a0ca3136f66f864d6bb8dddb2d588c349">r2d_reduce</a>(&amp;intersection, r2d_moments, POLY_ORDER);</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    intersection_moments.resize(nmoments);</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> im = 0; im &lt; nmoments; im++)</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;      intersection_moments[im] = r2d_moments[im];</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;  }</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;  <span class="keywordflow">else</span> {</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    std::vector&lt; MatPoly&lt;2&gt; &gt; mat_poly_tris;</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    mat_poly.<a class="code" href="classTangram_1_1MatPoly.html#a3a65db5622231e4086244ad25ab6288d">decompose</a>(mat_poly_tris);</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    <span class="keywordtype">int</span> ntris = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(mat_poly_tris.size());</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    intersection_moments.assign(nmoments, 0.0);</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> itri = 0; itri &lt; ntris; itri++) {</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;      std::vector&lt; Plane_t&lt;2&gt; &gt; face_lines;</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;      mat_poly_tris[itri].face_planes(face_lines);</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;      assert(face_lines.size() == 3);</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;      <a class="code" href="structr2d__poly.html">r2d_poly</a> intersection = r2dpoly; </div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;      <a class="code" href="structr2d__plane.html">r2d_plane</a> r2d_face_lines[3];</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> iline = 0; iline &lt; 3; iline++) {</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ixy = 0; ixy &lt; 2; ixy++)</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;          r2d_face_lines[iline].n.xy[ixy] = -face_lines[iline].normal[ixy];</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;        r2d_face_lines[iline].<a class="code" href="structr2d__plane.html#a51f453b0f5dc7ec389fc33d46886f0d6">d</a> = -face_lines[iline].dist2origin;</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;      }</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;      <a class="code" href="r2d_8h.html#a7bc340c465a2b0fb0ebdeed61a4b1d09">r2d_clip</a>(&amp;intersection, r2d_face_lines, 3);</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;      <a class="code" href="r2d_8h.html#a0ca3136f66f864d6bb8dddb2d588c349">r2d_reduce</a>(&amp;intersection, r2d_moments, POLY_ORDER);</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> im = 0; im &lt; nmoments; im++)</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;        intersection_moments[im] += r2d_moments[im];</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    }</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;  }</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;}</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;</div><div class="line"><a name="l00185"></a><span class="lineno"><a class="line" href="namespaceTangram.html#abfcab80195ecc59c7d07264deb5582a9">  185</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespaceTangram.html#abfcab80195ecc59c7d07264deb5582a9">split_convex_matpoly_r2d</a>(<span class="keyword">const</span> <a class="code" href="classTangram_1_1MatPoly.html">MatPoly&lt;2&gt;</a>&amp; mat_poly,</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;                         <span class="keyword">const</span> <a class="code" href="structTangram_1_1Plane__t.html">Plane_t&lt;2&gt;</a>&amp; cutting_plane,</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;                         <a class="code" href="classTangram_1_1MatPoly.html">MatPoly&lt;2&gt;</a>&amp; lower_halfspace_poly,</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;                         <a class="code" href="classTangram_1_1MatPoly.html">MatPoly&lt;2&gt;</a>&amp; upper_halfspace_poly,</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;                         std::vector&lt;double&gt;&amp; lower_halfspace_moments,</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;                         std::vector&lt;double&gt;&amp; upper_halfspace_moments) {</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;  <span class="comment">//Translate the cutting plane to R2D format</span></div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;  <span class="comment">//Here the direction of the cutting plane normal</span></div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;  <span class="comment">//and distance are inverted compared to the same</span></div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;  <span class="comment">//for 3D split. The notions of what is lower and</span></div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;  <span class="comment">//upper halfspace in inverted between R2D and R3D. </span></div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;  <a class="code" href="structr2d__plane.html">r2d_plane</a> r2d_cut_plane;</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ixy = 0; ixy &lt; 2; ixy++)</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    r2d_cut_plane.<a class="code" href="structr2d__plane.html#aab3829f60a24bbfe6af8ba1d237e7935">n</a>.<a class="code" href="unionr2d__rvec2.html#ad9a1cfdc5716855be5fff46ff18550e4">xy</a>[ixy] = -cutting_plane.<a class="code" href="structTangram_1_1Plane__t.html#aeb5db1642a6d790563f1ae78154de428">normal</a>[ixy];</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;  r2d_cut_plane.<a class="code" href="structr2d__plane.html#a51f453b0f5dc7ec389fc33d46886f0d6">d</a> = -cutting_plane.<a class="code" href="structTangram_1_1Plane__t.html#a0de6ac6eb2b34ebc3d70ced8df621ce5">dist2origin</a>;</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;  <span class="comment">//Convert matpoly to r2d_poly and split </span></div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;  <a class="code" href="structr2d__poly.html">r2d_poly</a> r2dized_poly;</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;  <a class="code" href="structr2d__poly.html">r2d_poly</a> r2d_subpolys[2];</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;  <a class="code" href="namespaceTangram.html#ae282114f99c97df0c59c6006bc065e0b">matpoly_to_r2dpoly</a>(mat_poly, r2dized_poly);</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;  <a class="code" href="r2d_8h.html#a4e28f6b07d5799645b1590201dc20b69">r2d_split</a>(&amp;r2dized_poly, 1, r2d_cut_plane, &amp;r2d_subpolys[1], &amp;r2d_subpolys[0]);</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;  <a class="code" href="classTangram_1_1MatPoly.html">MatPoly&lt;2&gt;</a>* subpoly_ptrs[2] = {&amp;lower_halfspace_poly, &amp;upper_halfspace_poly};</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;  std::vector&lt;double&gt;* subpoly_moments_ptrs[2] = {&amp;lower_halfspace_moments,</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;                                                  &amp;upper_halfspace_moments};</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;  <span class="comment">//Compute moments for subpoly&#39;s </span></div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> POLY_ORDER = 1;</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;  <a class="code" href="r2d_8h.html#a7051e2a3074dcda55d4ffe56a31c910c">r2d_real</a> r2d_moments[<a class="code" href="r2d_8h.html#abb06105c9ba90a0af19b4a5104c8ccc0">R2D_NUM_MOMENTS</a>(POLY_ORDER)];</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> isp = 0; isp &lt; 2; isp++) {</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;      <span class="keywordtype">int</span> nverts = r2d_subpolys[isp].nverts;</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;      <span class="comment">//Check if the subpoly is empty</span></div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;      <span class="keywordflow">if</span> (nverts == 0) {</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    subpoly_ptrs[isp]-&gt;<a class="code" href="classTangram_1_1MatPoly.html#a860f132a1987d539089fc1c80c7404a7">clear</a>();</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    subpoly_moments_ptrs[isp]-&gt;clear();</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;      }</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;      <span class="comment">//Find the moments for a subpoly</span></div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;      <a class="code" href="r2d_8h.html#a0ca3136f66f864d6bb8dddb2d588c349">r2d_reduce</a>(&amp;r2d_subpolys[isp], r2d_moments, POLY_ORDER);</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;      <span class="keywordflow">if</span> (r2d_moments[0] &lt;= std::numeric_limits&lt;double&gt;::epsilon()) {</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    subpoly_ptrs[isp]-&gt;<a class="code" href="classTangram_1_1MatPoly.html#a860f132a1987d539089fc1c80c7404a7">clear</a>();</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    subpoly_moments_ptrs[isp]-&gt;clear();</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;      }</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;      subpoly_moments_ptrs[isp]-&gt;assign(r2d_moments, r2d_moments + 3);</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;      <span class="comment">//Get a MatPoly for a r2d subpoly</span></div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;      <a class="code" href="classTangram_1_1MatPoly.html">MatPoly&lt;2&gt;</a> sub_matpoly; </div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;      <a class="code" href="namespaceTangram.html#a8b4a80068dc8561da97cc8607e1ec696">r2dpoly_to_matpoly</a>(r2d_subpolys[isp], sub_matpoly);</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;      </div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;      *subpoly_ptrs[isp] = sub_matpoly; </div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;  }</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;} <span class="comment">//split_convex_matpoly_r2d</span></div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;</div><div class="line"><a name="l00259"></a><span class="lineno"><a class="line" href="classTangram_1_1SplitR2D.html">  259</a></span>&#160;<span class="keyword">class </span><a class="code" href="classTangram_1_1SplitR2D.html">SplitR2D</a> {</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l00261"></a><span class="lineno"><a class="line" href="classTangram_1_1SplitR2D.html#ab7a897c722b6296dd9252d34278b99ba">  261</a></span>&#160;  <a class="code" href="classTangram_1_1SplitR2D.html#ab7a897c722b6296dd9252d34278b99ba">SplitR2D</a>(<span class="keyword">const</span> <a class="code" href="namespaceTangram.html#a71c39deca72d48990415ee231a9170b1">std::vector</a>&lt; <a class="code" href="classTangram_1_1MatPoly.html">MatPoly&lt;2&gt;</a> &gt;&amp; matpolys,</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;           <span class="keyword">const</span> <a class="code" href="structTangram_1_1Plane__t.html">Plane_t&lt;2&gt;</a>&amp; cutting_plane, </div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;           <span class="keyword">const</span> <span class="keywordtype">bool</span> all_convex = <span class="keyword">false</span>) : </div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;           matpolys_(matpolys), </div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;           cutting_plane_(cutting_plane),</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;           all_convex_(all_convex) {}</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;</div><div class="line"><a name="l00273"></a><span class="lineno"><a class="line" href="classTangram_1_1SplitR2D.html#a850078fc3ec9a64c5c6d550326605aca">  273</a></span>&#160;  <a class="code" href="structTangram_1_1HalfSpaceSets__t.html">HalfSpaceSets_t&lt;2&gt;</a> <a class="code" href="classTangram_1_1SplitR2D.html#a850078fc3ec9a64c5c6d550326605aca">operator() </a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    <a class="code" href="structTangram_1_1HalfSpaceSets__t.html">HalfSpaceSets_t&lt;2&gt;</a> hs_sets;</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    std::vector&lt; MatPoly&lt;2&gt; &gt;* hs_subpolys_ptrs[2] = {</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;      &amp;hs_sets.<a class="code" href="structTangram_1_1HalfSpaceSets__t.html#add9a75f9a740f31c1d57305349170690">lower_halfspace_set</a>.matpolys, &amp;hs_sets.<a class="code" href="structTangram_1_1HalfSpaceSets__t.html#a0aaef7e80ff5bcea881e7cacde2a4ab2">upper_halfspace_set</a>.matpolys};</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    std::vector&lt;double&gt;* hs_moments_ptrs[2] = {</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;      &amp;hs_sets.<a class="code" href="structTangram_1_1HalfSpaceSets__t.html#add9a75f9a740f31c1d57305349170690">lower_halfspace_set</a>.moments, &amp;hs_sets.<a class="code" href="structTangram_1_1HalfSpaceSets__t.html#a0aaef7e80ff5bcea881e7cacde2a4ab2">upper_halfspace_set</a>.moments}; </div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    std::vector&lt; MatPoly&lt;2&gt; &gt; convex_components;</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <span class="keyword">const</span> std::vector&lt; MatPoly&lt;2&gt; &gt;* convex_polys;</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    <span class="keywordflow">if</span> (all_convex_)</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;      convex_polys = &amp;matpolys_;</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    <span class="keywordflow">else</span> {</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;      <span class="keywordtype">int</span> nncpolys = (int) matpolys_.size();</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> incp = 0; incp &lt; nncpolys; incp++)</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;        matpolys_[incp].decompose(convex_components);</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;      convex_polys = &amp;convex_components;</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    }</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ihs = 0; ihs &lt; 2; ihs++)</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;      hs_moments_ptrs[ihs]-&gt;assign(3, 0.0);</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    <span class="keywordtype">int</span> hs_poly_count[2] = {0, 0};</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    <span class="keywordtype">int</span> npolys = (int) convex_polys-&gt;size();</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> icp = 0; icp &lt; npolys; icp++) {</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;      <a class="code" href="classTangram_1_1MatPoly.html">MatPoly&lt;2&gt;</a> cur_subpolys[2];</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;      std::vector&lt;double&gt; cur_moments[2];</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;      <a class="code" href="namespaceTangram.html#abfcab80195ecc59c7d07264deb5582a9">split_convex_matpoly_r2d</a>((*convex_polys)[icp], cutting_plane_,</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;                               cur_subpolys[0], cur_subpolys[1],</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;                               cur_moments[0], cur_moments[1]);</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ihs = 0; ihs &lt; 2; ihs++)</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;        <span class="keywordflow">if</span> (!cur_moments[ihs].empty()) {</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;          hs_subpolys_ptrs[ihs]-&gt;emplace_back(cur_subpolys[ihs]);</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;          <span class="keywordflow">for</span> (<span class="keywordtype">int</span> im = 0; im &lt; 3; im++)</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;            (*hs_moments_ptrs[ihs])[im] += cur_moments[ihs][im];</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;          hs_poly_count[ihs]++;</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;        }</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    }</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ihs = 0; ihs &lt; 2; ihs++)</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;      <span class="keywordflow">if</span> (hs_poly_count[ihs] == 0)</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;        hs_moments_ptrs[ihs]-&gt;clear();</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    <span class="keywordflow">return</span> hs_sets;</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;  }</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;  <a class="code" href="classTangram_1_1SplitR2D.html#a63257bd1b8d9cbd6d7caaf988abdc51f">SplitR2D</a>() = <span class="keyword">delete</span>;</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;  <a class="code" href="classTangram_1_1SplitR2D.html">SplitR2D</a>&amp; <a class="code" href="classTangram_1_1SplitR2D.html#ac3d219538cb9c362d1a3e33260ddde65">operator = </a>(<span class="keyword">const</span> <a class="code" href="classTangram_1_1SplitR2D.html">SplitR2D</a>&amp;) = <span class="keyword">delete</span>;</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160; <span class="keyword">private</span>:</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;  <span class="keyword">const</span> std::vector&lt; MatPoly&lt;2&gt; &gt;&amp; matpolys_;</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;  <span class="keyword">const</span> <a class="code" href="structTangram_1_1Plane__t.html">Plane_t&lt;2&gt;</a>&amp; cutting_plane_;</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;  <span class="keywordtype">bool</span> all_convex_;</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;};</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;</div><div class="line"><a name="l00350"></a><span class="lineno"><a class="line" href="classTangram_1_1ClipR2D.html">  350</a></span>&#160;<span class="keyword">class </span><a class="code" href="classTangram_1_1ClipR2D.html">ClipR2D</a> {</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l00352"></a><span class="lineno"><a class="line" href="classTangram_1_1ClipR2D.html#a3a42d5107c0db336aae20a74946353df">  352</a></span>&#160;  <a class="code" href="classTangram_1_1ClipR2D.html#a3a42d5107c0db336aae20a74946353df">ClipR2D</a>() {}</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;</div><div class="line"><a name="l00358"></a><span class="lineno"><a class="line" href="classTangram_1_1ClipR2D.html#abdaa36740e19045a2b292d00d9f9c754">  358</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classTangram_1_1ClipR2D.html#abdaa36740e19045a2b292d00d9f9c754">set_plane</a>(<span class="keyword">const</span> <a class="code" href="structTangram_1_1Plane__t.html">Plane_t&lt;2&gt;</a>&amp; cutting_line) {</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ixy = 0; ixy &lt; 2; ixy++)</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;      r2d_cut_line_.n.xy[ixy] = -cutting_line.<a class="code" href="structTangram_1_1Plane__t.html#aeb5db1642a6d790563f1ae78154de428">normal</a>[ixy];</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    r2d_cut_line_.d = -cutting_line.<a class="code" href="structTangram_1_1Plane__t.html#a0de6ac6eb2b34ebc3d70ced8df621ce5">dist2origin</a>;</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;  }</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;</div><div class="line"><a name="l00370"></a><span class="lineno"><a class="line" href="classTangram_1_1ClipR2D.html#a480b3f46797264110f2040c983209704">  370</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classTangram_1_1ClipR2D.html#a480b3f46797264110f2040c983209704">set_matpolys</a>(<span class="keyword">const</span> <a class="code" href="namespaceTangram.html#a71c39deca72d48990415ee231a9170b1">std::vector</a>&lt; <a class="code" href="classTangram_1_1MatPoly.html">MatPoly&lt;2&gt;</a> &gt;&amp; matpolys,</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;                    <span class="keyword">const</span> <span class="keywordtype">bool</span> planar_faces = <span class="keyword">true</span>) {</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    <span class="keywordtype">int</span> npolys = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(matpolys.size());</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    r2d_polys_.resize(npolys);</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> ipoly = 0; ipoly &lt; npolys; ipoly++)</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;      <a class="code" href="namespaceTangram.html#ae282114f99c97df0c59c6006bc065e0b">matpoly_to_r2dpoly</a>(matpolys[ipoly], r2d_polys_[ipoly]);</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;  }</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;</div><div class="line"><a name="l00384"></a><span class="lineno"><a class="line" href="classTangram_1_1ClipR2D.html#addc318362f477b7f7449383bfbc709d8">  384</a></span>&#160;  std::vector&lt;double&gt; <a class="code" href="classTangram_1_1ClipR2D.html#addc318362f477b7f7449383bfbc709d8">aggregated_moments</a>() {</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    std::vector&lt;double&gt; agg_moments;</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    <span class="keywordflow">if</span> (!r2d_polys_.empty()) {</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;      agg_moments.assign(3, 0.0);</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">int</span> POLY_ORDER = 1;</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;      <a class="code" href="r2d_8h.html#a7051e2a3074dcda55d4ffe56a31c910c">r2d_real</a> r2d_moments[<a class="code" href="r2d_8h.html#abb06105c9ba90a0af19b4a5104c8ccc0">R2D_NUM_MOMENTS</a>(POLY_ORDER)];</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;      <span class="keywordflow">for</span>(<span class="keywordtype">int</span> ipoly = 0; ipoly &lt; r2d_polys_.size(); ipoly++)</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;        <span class="keywordflow">if</span> (r2d_polys_[ipoly].nverts != 0) {</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;          <a class="code" href="r2d_8h.html#a0ca3136f66f864d6bb8dddb2d588c349">r2d_reduce</a>(&amp;r2d_polys_[ipoly], r2d_moments, POLY_ORDER);</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;          <span class="keywordflow">if</span> (r2d_moments[0] &gt; std::numeric_limits&lt;double&gt;::epsilon())</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> im = 0; im &lt; 3; im++)</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;              agg_moments[im] += r2d_moments[im];</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;        }</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    }</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    <span class="keywordflow">return</span> agg_moments;</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;  }</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;</div><div class="line"><a name="l00409"></a><span class="lineno"><a class="line" href="classTangram_1_1ClipR2D.html#ae339dfc0224ced3b7c1fe8df02fa9c64">  409</a></span>&#160;  std::vector&lt;double&gt; <a class="code" href="classTangram_1_1SplitR2D.html#a850078fc3ec9a64c5c6d550326605aca">operator() </a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    std::vector&lt;double&gt; below_plane_moments(3, 0.0);</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    <span class="keywordtype">int</span> poly_counter = 0;</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> POLY_ORDER = 1;</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    <a class="code" href="r2d_8h.html#a7051e2a3074dcda55d4ffe56a31c910c">r2d_real</a> r2d_moments[<a class="code" href="r2d_8h.html#abb06105c9ba90a0af19b4a5104c8ccc0">R2D_NUM_MOMENTS</a>(POLY_ORDER)];</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ipoly = 0; ipoly &lt; r2d_polys_.size(); ipoly++) {</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;      <span class="keywordflow">if</span> (r2d_polys_[ipoly].nverts != 0) {</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;        <span class="comment">//r2d does in-place clipping and does not have the const modifier</span></div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;        <span class="comment">//for the line: we need to make copies</span></div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;        <a class="code" href="structr2d__poly.html">r2d_poly</a> clipped_poly = r2d_polys_[ipoly];</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;        <a class="code" href="structr2d__plane.html">r2d_plane</a> line_copy = r2d_cut_line_;</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;        <a class="code" href="r2d_8h.html#a7bc340c465a2b0fb0ebdeed61a4b1d09">r2d_clip</a>(&amp;clipped_poly, &amp;line_copy, 1);</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;        <span class="keywordflow">if</span> (clipped_poly.<a class="code" href="structr2d__poly.html#a90583570d1a0aae298111de38fa69c89">nverts</a> != 0) {</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;          <span class="comment">//Find the moments for the part in the lower halfspace</span></div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;          <a class="code" href="r2d_8h.html#a0ca3136f66f864d6bb8dddb2d588c349">r2d_reduce</a>(&amp;clipped_poly, r2d_moments, POLY_ORDER);</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;          <span class="keywordflow">if</span> (r2d_moments[0] &gt; std::numeric_limits&lt;double&gt;::epsilon()) {</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> im = 0; im &lt; 3; im++)</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;              below_plane_moments[im] += r2d_moments[im];</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;            poly_counter++;</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;          }</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;        }</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;      }</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    }</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    <span class="keywordflow">if</span> (poly_counter == 0)</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;      below_plane_moments.clear();</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;      </div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    <span class="keywordflow">return</span> below_plane_moments;</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;  }</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;  <a class="code" href="classTangram_1_1ClipR2D.html">ClipR2D</a>&amp; <a class="code" href="classTangram_1_1SplitR2D.html#ac3d219538cb9c362d1a3e33260ddde65">operator = </a>(<span class="keyword">const</span> <a class="code" href="classTangram_1_1ClipR2D.html">ClipR2D</a>&amp;) = <span class="keyword">delete</span>;</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160; <span class="keyword">private</span>:</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;  std::vector&lt;r2d_poly&gt; r2d_polys_;</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;  <a class="code" href="structr2d__plane.html">r2d_plane</a> r2d_cut_line_;</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;};</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;} <span class="comment">// namespace Tangram</span></div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;<span class="preprocessor">#endif</span></div><div class="ttc" id="classTangram_1_1ClipR2D_html_addc318362f477b7f7449383bfbc709d8"><div class="ttname"><a href="classTangram_1_1ClipR2D.html#addc318362f477b7f7449383bfbc709d8">Tangram::ClipR2D::aggregated_moments</a></div><div class="ttdeci">std::vector&lt; double &gt; aggregated_moments()</div><div class="ttdoc">Computes moments of provided material polygons. </div><div class="ttdef"><b>Definition:</b> split_r2d.h:384</div></div>
<div class="ttc" id="namespaceTangram_html_af02fba4de7b9b6cdae6e0f7b655d96b9"><div class="ttname"><a href="namespaceTangram.html#af02fba4de7b9b6cdae6e0f7b655d96b9">Tangram::get_intersection_moments</a></div><div class="ttdeci">void get_intersection_moments(const MatPoly&lt; 2 &gt; &amp;mat_poly, const r2d_poly &amp;r2dpoly, std::vector&lt; double &gt; &amp;intersection_moments, bool convex_matpoly=false)</div><div class="ttdoc">Computes moments of the intersection of a MatPoly and an r2d_poly. If MatPoly is convex, r2d_poly will be clipped with lines containing the faces of MatPoly. Otherwise, MatPoly will be decomposed into triangular MatPolys, each of which will be intersected with r2d_poly. Note that r2d_poly does not need to be convex. </div><div class="ttdef"><b>Definition:</b> split_r2d.h:117</div></div>
<div class="ttc" id="structTangram_1_1HalfSpaceSets__t_html_a0aaef7e80ff5bcea881e7cacde2a4ab2"><div class="ttname"><a href="structTangram_1_1HalfSpaceSets__t.html#a0aaef7e80ff5bcea881e7cacde2a4ab2">Tangram::HalfSpaceSets_t::upper_halfspace_set</a></div><div class="ttdeci">MatPolySet_t&lt; D &gt; upper_halfspace_set</div><div class="ttdef"><b>Definition:</b> tangram.h:201</div></div>
<div class="ttc" id="classTangram_1_1MatPoly_html_a3a65db5622231e4086244ad25ab6288d"><div class="ttname"><a href="classTangram_1_1MatPoly.html#a3a65db5622231e4086244ad25ab6288d">Tangram::MatPoly::decompose</a></div><div class="ttdeci">void decompose(std::vector&lt; MatPoly&lt; D &gt; &gt; &amp;sub_polys) const</div><div class="ttdoc">Decomposes this MatPoly into MatPoly&amp;#39;s using its centroid. If faces of MatPoly are planar...</div></div>
<div class="ttc" id="classTangram_1_1SplitR2D_html"><div class="ttname"><a href="classTangram_1_1SplitR2D.html">Tangram::SplitR2D</a></div><div class="ttdef"><b>Definition:</b> split_r2d.h:259</div></div>
<div class="ttc" id="structr2d__plane_html_aab3829f60a24bbfe6af8ba1d237e7935"><div class="ttname"><a href="structr2d__plane.html#aab3829f60a24bbfe6af8ba1d237e7935">r2d_plane::n</a></div><div class="ttdeci">r2d_rvec2 n</div><div class="ttdef"><b>Definition:</b> r2d.h:81</div></div>
<div class="ttc" id="namespaceTangram_html_a8b4a80068dc8561da97cc8607e1ec696"><div class="ttname"><a href="namespaceTangram.html#a8b4a80068dc8561da97cc8607e1ec696">Tangram::r2dpoly_to_matpoly</a></div><div class="ttdeci">void r2dpoly_to_matpoly(const r2d_poly &amp;r2dpoly, MatPoly&lt; 2 &gt; &amp;mat_poly)</div><div class="ttdoc">Converts a R2D poly to a MatPoly where the vertices in the Matpoly are ordered counter clock-wise...</div><div class="ttdef"><b>Definition:</b> split_r2d.h:43</div></div>
<div class="ttc" id="r2d_8h_html_a7051e2a3074dcda55d4ffe56a31c910c"><div class="ttname"><a href="r2d_8h.html#a7051e2a3074dcda55d4ffe56a31c910c">r2d_real</a></div><div class="ttdeci">double r2d_real</div><div class="ttdoc">Real type specifying the precision to be used in calculations. </div><div class="ttdef"><b>Definition:</b> r2d.h:46</div></div>
<div class="ttc" id="structTangram_1_1HalfSpaceSets__t_html_add9a75f9a740f31c1d57305349170690"><div class="ttname"><a href="structTangram_1_1HalfSpaceSets__t.html#add9a75f9a740f31c1d57305349170690">Tangram::HalfSpaceSets_t::lower_halfspace_set</a></div><div class="ttdeci">MatPolySet_t&lt; D &gt; lower_halfspace_set</div><div class="ttdef"><b>Definition:</b> tangram.h:200</div></div>
<div class="ttc" id="structr2d__poly_html"><div class="ttname"><a href="structr2d__poly.html">r2d_poly</a></div><div class="ttdoc">A polygon. Can be convex, nonconvex, even multiply-connected. </div><div class="ttdef"><b>Definition:</b> r2d.h:96</div></div>
<div class="ttc" id="structTangram_1_1HalfSpaceSets__t_html"><div class="ttname"><a href="structTangram_1_1HalfSpaceSets__t.html">Tangram::HalfSpaceSets_t</a></div><div class="ttdef"><b>Definition:</b> tangram.h:199</div></div>
<div class="ttc" id="r2d_8h_html_a7bc340c465a2b0fb0ebdeed61a4b1d09"><div class="ttname"><a href="r2d_8h.html#a7bc340c465a2b0fb0ebdeed61a4b1d09">r2d_clip</a></div><div class="ttdeci">void r2d_clip(r2d_poly *poly, r2d_plane *planes, r2d_int nplanes)</div><div class="ttdoc">Clip a polygon against an arbitrary number of clip planes (find its intersection with a set of half-s...</div></div>
<div class="ttc" id="classTangram_1_1SplitR2D_html_ac3d219538cb9c362d1a3e33260ddde65"><div class="ttname"><a href="classTangram_1_1SplitR2D.html#ac3d219538cb9c362d1a3e33260ddde65">Tangram::SplitR2D::operator=</a></div><div class="ttdeci">SplitR2D &amp; operator=(const SplitR2D &amp;)=delete</div><div class="ttdoc">Assignment operator (disabled) </div></div>
<div class="ttc" id="classTangram_1_1MatPoly_html_aa756cca3df1a498d170bc3a86e6bae7b"><div class="ttname"><a href="classTangram_1_1MatPoly.html#aa756cca3df1a498d170bc3a86e6bae7b">Tangram::MatPoly::points</a></div><div class="ttdeci">const std::vector&lt; Point&lt; D &gt; &gt; &amp; points() const</div><div class="ttdoc">Points for all the vertices of the material poly. </div><div class="ttdef"><b>Definition:</b> MatPoly.h:201</div></div>
<div class="ttc" id="classTangram_1_1ClipR2D_html_abdaa36740e19045a2b292d00d9f9c754"><div class="ttname"><a href="classTangram_1_1ClipR2D.html#abdaa36740e19045a2b292d00d9f9c754">Tangram::ClipR2D::set_plane</a></div><div class="ttdeci">void set_plane(const Plane_t&lt; 2 &gt; &amp;cutting_line)</div><div class="ttdoc">Set the cutting line used by the functor. </div><div class="ttdef"><b>Definition:</b> split_r2d.h:358</div></div>
<div class="ttc" id="structr2d__poly_html_a92a7a2ba8a83f658c07866816acb1123"><div class="ttname"><a href="structr2d__poly.html#a92a7a2ba8a83f658c07866816acb1123">r2d_poly::verts</a></div><div class="ttdeci">r2d_vertex verts[R2D_MAX_VERTS]</div><div class="ttdef"><b>Definition:</b> r2d.h:98</div></div>
<div class="ttc" id="unionr2d__rvec2_html_ad9a1cfdc5716855be5fff46ff18550e4"><div class="ttname"><a href="unionr2d__rvec2.html#ad9a1cfdc5716855be5fff46ff18550e4">r2d_rvec2::xy</a></div><div class="ttdeci">r2d_real xy[2]</div><div class="ttdef"><b>Definition:</b> r2d.h:63</div></div>
<div class="ttc" id="classTangram_1_1SplitR2D_html_ab7a897c722b6296dd9252d34278b99ba"><div class="ttname"><a href="classTangram_1_1SplitR2D.html#ab7a897c722b6296dd9252d34278b99ba">Tangram::SplitR2D::SplitR2D</a></div><div class="ttdeci">SplitR2D(const std::vector&lt; MatPoly&lt; 2 &gt; &gt; &amp;matpolys, const Plane_t&lt; 2 &gt; &amp;cutting_plane, const bool all_convex=false)</div><div class="ttdef"><b>Definition:</b> split_r2d.h:261</div></div>
<div class="ttc" id="classTangram_1_1MatPoly_html"><div class="ttname"><a href="classTangram_1_1MatPoly.html">Tangram::MatPoly</a></div><div class="ttdef"><b>Definition:</b> MatPoly.h:124</div></div>
<div class="ttc" id="classTangram_1_1SplitR2D_html_a63257bd1b8d9cbd6d7caaf988abdc51f"><div class="ttname"><a href="classTangram_1_1SplitR2D.html#a63257bd1b8d9cbd6d7caaf988abdc51f">Tangram::SplitR2D::SplitR2D</a></div><div class="ttdeci">SplitR2D()=delete</div><div class="ttdoc">Default constructor (disabled) </div></div>
<div class="ttc" id="classTangram_1_1SplitR2D_html_a850078fc3ec9a64c5c6d550326605aca"><div class="ttname"><a href="classTangram_1_1SplitR2D.html#a850078fc3ec9a64c5c6d550326605aca">Tangram::SplitR2D::operator()</a></div><div class="ttdeci">HalfSpaceSets_t&lt; 2 &gt; operator()() const</div><div class="ttdoc">Splits a MatPoly into two sets of convex MatPoly&amp;#39;s. </div><div class="ttdef"><b>Definition:</b> split_r2d.h:273</div></div>
<div class="ttc" id="structr2d__plane_html_a51f453b0f5dc7ec389fc33d46886f0d6"><div class="ttname"><a href="structr2d__plane.html#a51f453b0f5dc7ec389fc33d46886f0d6">r2d_plane::d</a></div><div class="ttdeci">r2d_real d</div><div class="ttdef"><b>Definition:</b> r2d.h:82</div></div>
<div class="ttc" id="structTangram_1_1Plane__t_html_aeb5db1642a6d790563f1ae78154de428"><div class="ttname"><a href="structTangram_1_1Plane__t.html#aeb5db1642a6d790563f1ae78154de428">Tangram::Plane_t::normal</a></div><div class="ttdeci">Vector&lt; D &gt; normal</div><div class="ttdef"><b>Definition:</b> tangram.h:173</div></div>
<div class="ttc" id="structr2d__poly_html_a90583570d1a0aae298111de38fa69c89"><div class="ttname"><a href="structr2d__poly.html#a90583570d1a0aae298111de38fa69c89">r2d_poly::nverts</a></div><div class="ttdeci">r2d_int nverts</div><div class="ttdef"><b>Definition:</b> r2d.h:99</div></div>
<div class="ttc" id="namespaceTangram_html"><div class="ttname"><a href="namespaceTangram.html">Tangram</a></div><div class="ttdef"><b>Definition:</b> CellMatPoly.h:18</div></div>
<div class="ttc" id="namespaceTangram_html_ae282114f99c97df0c59c6006bc065e0b"><div class="ttname"><a href="namespaceTangram.html#ae282114f99c97df0c59c6006bc065e0b">Tangram::matpoly_to_r2dpoly</a></div><div class="ttdeci">void matpoly_to_r2dpoly(const MatPoly&lt; 2 &gt; &amp;mat_poly, r2d_poly &amp;r2dpoly)</div><div class="ttdoc">Converts a MatPoly to a polygon in R2D format. </div><div class="ttdef"><b>Definition:</b> split_r2d.h:84</div></div>
<div class="ttc" id="structr2d__vertex_html_a3ec3316dc565f2b6e1d0bc7230250a8f"><div class="ttname"><a href="structr2d__vertex.html#a3ec3316dc565f2b6e1d0bc7230250a8f">r2d_vertex::pos</a></div><div class="ttdeci">r2d_rvec2 pos</div><div class="ttdef"><b>Definition:</b> r2d.h:90</div></div>
<div class="ttc" id="unionr2d__rvec2_html"><div class="ttname"><a href="unionr2d__rvec2.html">r2d_rvec2</a></div><div class="ttdoc">A 2-vector. </div><div class="ttdef"><b>Definition:</b> r2d.h:58</div></div>
<div class="ttc" id="namespaceTangram_html_abfcab80195ecc59c7d07264deb5582a9"><div class="ttname"><a href="namespaceTangram.html#abfcab80195ecc59c7d07264deb5582a9">Tangram::split_convex_matpoly_r2d</a></div><div class="ttdeci">void split_convex_matpoly_r2d(const MatPoly&lt; 2 &gt; &amp;mat_poly, const Plane_t&lt; 2 &gt; &amp;cutting_plane, MatPoly&lt; 2 &gt; &amp;lower_halfspace_poly, MatPoly&lt; 2 &gt; &amp;upper_halfspace_poly, std::vector&lt; double &gt; &amp;lower_halfspace_moments, std::vector&lt; double &gt; &amp;upper_halfspace_moments)</div><div class="ttdoc">Splits a convex MatPoly into two (convex) MatPoly&amp;#39;s with a cutting plane. </div><div class="ttdef"><b>Definition:</b> split_r2d.h:185</div></div>
<div class="ttc" id="structr2d__vertex_html_a95becc3479d5b52bf4dc2811d4f2eb41"><div class="ttname"><a href="structr2d__vertex.html#a95becc3479d5b52bf4dc2811d4f2eb41">r2d_vertex::pnbrs</a></div><div class="ttdeci">r2d_int pnbrs[2]</div><div class="ttdef"><b>Definition:</b> r2d.h:89</div></div>
<div class="ttc" id="tangram_8h_html"><div class="ttname"><a href="tangram_8h.html">tangram.h</a></div></div>
<div class="ttc" id="structTangram_1_1Plane__t_html_a0de6ac6eb2b34ebc3d70ced8df621ce5"><div class="ttname"><a href="structTangram_1_1Plane__t.html#a0de6ac6eb2b34ebc3d70ced8df621ce5">Tangram::Plane_t::dist2origin</a></div><div class="ttdeci">double dist2origin</div><div class="ttdef"><b>Definition:</b> tangram.h:174</div></div>
<div class="ttc" id="r2d_8h_html_a0ca3136f66f864d6bb8dddb2d588c349"><div class="ttname"><a href="r2d_8h.html#a0ca3136f66f864d6bb8dddb2d588c349">r2d_reduce</a></div><div class="ttdeci">void r2d_reduce(r2d_poly *poly, r2d_real *moments, r2d_int polyorder)</div></div>
<div class="ttc" id="classTangram_1_1MatPoly_html_a860f132a1987d539089fc1c80c7404a7"><div class="ttname"><a href="classTangram_1_1MatPoly.html#a860f132a1987d539089fc1c80c7404a7">Tangram::MatPoly::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdoc">Resets the MatPoly data. </div><div class="ttdef"><b>Definition:</b> MatPoly.h:173</div></div>
<div class="ttc" id="structTangram_1_1Plane__t_html"><div class="ttname"><a href="structTangram_1_1Plane__t.html">Tangram::Plane_t&lt; 2 &gt;</a></div></div>
<div class="ttc" id="structr2d__plane_html"><div class="ttname"><a href="structr2d__plane.html">r2d_plane</a></div><div class="ttdoc">A plane. </div><div class="ttdef"><b>Definition:</b> r2d.h:80</div></div>
<div class="ttc" id="r2d_8h_html_a4e28f6b07d5799645b1590201dc20b69"><div class="ttname"><a href="r2d_8h.html#a4e28f6b07d5799645b1590201dc20b69">r2d_split</a></div><div class="ttdeci">void r2d_split(r2d_poly *inpolys, r2d_int npolys, r2d_plane plane, r2d_poly *out_pos, r2d_poly *out_neg)</div><div class="ttdoc">Splits a list of polygons across a single plane. </div></div>
<div class="ttc" id="r2d_8h_html_a41c629fd47d5ee5a33ff2467c127ddf7"><div class="ttname"><a href="r2d_8h.html#a41c629fd47d5ee5a33ff2467c127ddf7">r2d_init_poly</a></div><div class="ttdeci">void r2d_init_poly(r2d_poly *poly, r2d_rvec2 *vertices, r2d_int numverts)</div><div class="ttdoc">Initialize a (simply-connected) general polygon from a list of vertices. Can use r2d_is_good to check...</div></div>
<div class="ttc" id="classTangram_1_1ClipR2D_html"><div class="ttname"><a href="classTangram_1_1ClipR2D.html">Tangram::ClipR2D</a></div><div class="ttdef"><b>Definition:</b> split_r2d.h:350</div></div>
<div class="ttc" id="classTangram_1_1ClipR2D_html_a480b3f46797264110f2040c983209704"><div class="ttname"><a href="classTangram_1_1ClipR2D.html#a480b3f46797264110f2040c983209704">Tangram::ClipR2D::set_matpolys</a></div><div class="ttdeci">void set_matpolys(const std::vector&lt; MatPoly&lt; 2 &gt; &gt; &amp;matpolys, const bool planar_faces=true)</div><div class="ttdoc">Set the material polygons to be used by the functor. </div><div class="ttdef"><b>Definition:</b> split_r2d.h:370</div></div>
<div class="ttc" id="classTangram_1_1ClipR2D_html_a3a42d5107c0db336aae20a74946353df"><div class="ttname"><a href="classTangram_1_1ClipR2D.html#a3a42d5107c0db336aae20a74946353df">Tangram::ClipR2D::ClipR2D</a></div><div class="ttdeci">ClipR2D()</div><div class="ttdef"><b>Definition:</b> split_r2d.h:352</div></div>
<div class="ttc" id="classTangram_1_1MatPoly_html_aba885f75525c109661a08cb41a413a5b"><div class="ttname"><a href="classTangram_1_1MatPoly.html#aba885f75525c109661a08cb41a413a5b">Tangram::MatPoly::face_planes</a></div><div class="ttdeci">void face_planes(std::vector&lt; Plane_t&lt; D &gt; &gt; &amp;fplanes) const</div><div class="ttdoc">For every face, returns a plane containing that face. Important: faces should be planar, so you might need to facetize the MatPoly first. Faces with area below machine epsilon will be omitted. If the number of valid planes is less than four, empty vector will be returned. </div></div>
<div class="ttc" id="r2d_8h_html_a40c43d55f6372345f355d5f34eb919c5"><div class="ttname"><a href="r2d_8h.html#a40c43d55f6372345f355d5f34eb919c5">r2d_int</a></div><div class="ttdeci">int32_t r2d_int</div><div class="ttdoc">Integer types used for indexing. </div><div class="ttdef"><b>Definition:</b> r2d.h:52</div></div>
<div class="ttc" id="r2d_8h_html_abb06105c9ba90a0af19b4a5104c8ccc0"><div class="ttname"><a href="r2d_8h.html#abb06105c9ba90a0af19b4a5104c8ccc0">R2D_NUM_MOMENTS</a></div><div class="ttdeci">#define R2D_NUM_MOMENTS(order)</div><div class="ttdoc">Integrate a polynomial density over a polygon using simplicial decomposition. Uses the fast recursive...</div><div class="ttdef"><b>Definition:</b> r2d.h:160</div></div>
<div class="ttc" id="MatPoly_8h_html"><div class="ttname"><a href="MatPoly_8h.html">MatPoly.h</a></div></div>
<div class="ttc" id="namespaceTangram_html_a71c39deca72d48990415ee231a9170b1"><div class="ttname"><a href="namespaceTangram.html#a71c39deca72d48990415ee231a9170b1">Tangram::vector</a></div><div class="ttdeci">std::vector&lt; T &gt; vector</div><div class="ttdef"><b>Definition:</b> tangram.h:137</div></div>
<div class="ttc" id="classTangram_1_1MatPoly_html_a0fde16656a5d88e5d7574fcd67b3ebcb"><div class="ttname"><a href="classTangram_1_1MatPoly.html#a0fde16656a5d88e5d7574fcd67b3ebcb">Tangram::MatPoly::initialize</a></div><div class="ttdeci">void initialize(const std::vector&lt; Point2 &gt; &amp;poly_points)</div><div class="ttdoc">Initialize a 2D polygon from its vertices. </div></div>
<div class="ttc" id="classTangram_1_1MatPoly_html_aa32646522284f28e04aad59e815542f1"><div class="ttname"><a href="classTangram_1_1MatPoly.html#aa32646522284f28e04aad59e815542f1">Tangram::MatPoly::num_vertices</a></div><div class="ttdeci">int num_vertices() const</div><div class="ttdoc">Number of material poly&amp;#39;s vertices. </div><div class="ttdef"><b>Definition:</b> MatPoly.h:278</div></div>
</div><!-- fragment --></div><!-- contents -->
<!--
This file is part of the Ristra tangram project.
Please see the license file at the root of this repository, or at:
https://github.com/laristra/tangram/blob/master/LICENSE
-->
<!-- HTML footer for doxygen 1.8.8-->
<!-- start footer part -->
</div>
</div>
</div>
</div>
</div>
<!--<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address> -->
<footer id="footer" class="footer">
  <div class="container">
    <div class="row test-muted">
      <div class="footer-row col-md-6">Copyright &copy; 2019
	<a href="http://lanl.gov"> Triad National Security, LLC</a>
	All Rights Reserved.
      </div>
      <div class="footer-row col-md-2">
	<a href="https://github.com/laristra/tangram/blob/master/LICENSE">
	  BSD LICENSE
	</a>
      </div>
      <div class="footer-row col-md-2">
	LA-CC-17-133
      </div>
      <div class="footer-row col-md-1">
	<a href="mailto:portage@lanl.gov">
	  <i class="fa fa-envelope-o fa-2x"></i>
	</a>
      </div>
      <div class="footer-row col-md-1">
	<a href="https://github.com/laristra/tangram">
	  <i class="fa fa-github fa-2x"></i>
	</a>
      </div>
    </div>
  </div>
</footer>
<script type="text/javascript" src="doxy-boot.js"></script>
</body>
</html>
